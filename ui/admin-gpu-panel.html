<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ona Energy Management - GPU Asset Management</title>
    <link rel="icon" type="image/x-icon" href="includes/favicon.ico">
    <link rel="stylesheet" href="includes/common.css">
    <link rel="stylesheet" href="includes/dashboard.css">
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* GPU Panel Specific Styles */
        .gpu-panel-container {
            display: flex;
            min-height: calc(100vh - 70px);
        }

        .gpu-nav {
            width: 280px;
            background-color: var(--primary-black);
            padding: 20px;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .nav-section {
            margin-bottom: 30px;
        }

        .nav-section-title {
            color: var(--white);
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 15px;
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .nav-button {
            background-color: #2b2b2b;
            color: var(--white);
            border: 1px solid #444;
            padding: 15px;
            text-align: left;
            font-family: 'DM Sans', sans-serif;
            font-size: 16px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
            width: 100%;
            min-width: 0;
        }

        .nav-button:hover {
            background-color: var(--primary-blue);
            border-color: var(--primary-blue);
        }

        .nav-button.active {
            background-color: var(--primary-blue);
            border-color: var(--primary-blue);
        }

        .nav-icon {
            font-size: 18px;
        }

        .gpu-main-content {
            flex-grow: 1;
            padding: 40px;
            background-color: var(--white);
        }

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        .section-header {
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 10px;
        }

        .section-subtitle {
            font-size: 1.1rem;
            color: var(--text-light);
        }

        /* GPU Cards */
        .gpu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .gpu-card {
            background: var(--white);
            border: 1px solid var(--border-grey);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }

        .gpu-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.1);
        }

        .gpu-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .gpu-name {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        .gpu-status {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-active {
            background-color: rgba(34, 197, 94, 0.1);
            color: var(--status-green);
        }

        .status-idle {
            background-color: rgba(245, 158, 11, 0.1);
            color: var(--status-yellow);
        }

        .status-maintenance {
            background-color: rgba(239, 68, 68, 0.1);
            color: var(--status-red);
        }

        .gpu-metrics {
            margin-bottom: 20px;
        }

        .metric-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .metric-label {
            color: var(--text-light);
        }

        .metric-value {
            color: var(--text-dark);
            font-weight: 500;
        }

        .gpu-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .action-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            flex: 1;
        }

        .action-btn.primary {
            background-color: var(--primary-blue);
            color: var(--white);
        }

        .action-btn.secondary {
            background-color: var(--neutral-grey);
            color: var(--text-dark);
        }

        .action-btn.danger {
            background-color: var(--status-red);
            color: var(--white);
        }

        /* Metrics Overview */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: var(--white);
            border: 1px solid var(--border-grey);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .metric-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary-blue);
            display: block;
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 10px;
        }

        .metric-change {
            font-size: 0.8rem;
            font-weight: 600;
        }

        .metric-change.positive {
            color: var(--status-green);
        }

        .metric-change.negative {
            color: var(--status-red);
        }

        /* Performance Charts */
        .chart-container {
            background: var(--white);
            border: 1px solid var(--border-grey);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .chart-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        .chart-controls {
            display: flex;
            gap: 10px;
        }

        .chart-btn {
            padding: 6px 12px;
            border: 1px solid var(--border-grey);
            border-radius: 4px;
            background: var(--white);
            color: var(--text-dark);
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .chart-btn:hover {
            background: var(--neutral-light);
        }

        .chart-btn.active {
            background: var(--primary-blue);
            color: var(--white);
            border-color: var(--primary-blue);
        }

        .chart-canvas {
            width: 100%;
            height: 300px;
            background: #f8f9fa;
            border-radius: 8px;
            position: relative;
            overflow: hidden;
            padding: 10px;
        }

        .chart-canvas canvas {
            width: 100% !important;
            height: 100% !important;
        }

        .chart-placeholder {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--text-light);
            font-size: 1.1rem;
        }

        /* Performance Metrics */
        .performance-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .performance-card {
            background: var(--white);
            border: 1px solid var(--border-grey);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }

        .performance-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 5px;
        }

        .performance-label {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 10px;
        }

        .performance-trend {
            font-size: 0.8rem;
            font-weight: 600;
        }

        .trend-up {
            color: var(--status-green);
        }

        .trend-down {
            color: var(--status-red);
        }

        .trend-stable {
            color: var(--text-light);
        }

        /* Alert System */
        .alerts-section {
            background: var(--white);
            border: 1px solid var(--border-grey);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .alert-item {
            display: flex;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--border-grey);
        }

        .alert-item:last-child {
            border-bottom: none;
        }

        .alert-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 1.2rem;
            font-weight: bold;
        }

        .alert-icon.critical {
            background-color: rgba(239, 68, 68, 0.1);
            color: var(--status-red);
        }

        .alert-icon.warning {
            background-color: rgba(245, 158, 11, 0.1);
            color: var(--status-yellow);
        }

        .alert-icon.info {
            background-color: rgba(69, 91, 241, 0.1);
            color: var(--primary-blue);
        }

        .alert-content {
            flex-grow: 1;
        }

        .alert-title {
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 4px;
        }

        .alert-time {
            font-size: 0.85rem;
            color: var(--text-light);
        }

        .alert-actions {
            display: flex;
            gap: 10px;
        }

        .alert-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .alert-btn.acknowledge {
            background-color: var(--primary-blue);
            color: var(--white);
        }

        .alert-btn.resolve {
            background-color: var(--status-green);
            color: var(--white);
        }

        /* Maintenance Tools */
        .maintenance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .maintenance-card {
            background: var(--white);
            border: 1px solid var(--border-grey);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        .maintenance-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .maintenance-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        .maintenance-status {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-scheduled {
            background-color: rgba(245, 158, 11, 0.1);
            color: var(--status-yellow);
        }

        .status-completed {
            background-color: rgba(34, 197, 94, 0.1);
            color: var(--status-green);
        }

        .status-failed {
            background-color: rgba(239, 68, 68, 0.1);
            color: var(--status-red);
        }

        .maintenance-details {
            margin-bottom: 20px;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .detail-label {
            color: var(--text-light);
        }

        .detail-value {
            color: var(--text-dark);
            font-weight: 500;
        }

        .maintenance-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .maintenance-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            flex: 1;
        }

        .maintenance-btn.primary {
            background-color: var(--primary-blue);
            color: var(--white);
        }

        .maintenance-btn.secondary {
            background-color: var(--neutral-grey);
            color: var(--text-dark);
        }

        .maintenance-btn.danger {
            background-color: var(--status-red);
            color: var(--white);
        }

        /* Driver Management */
        .driver-section {
            background: var(--white);
            border: 1px solid var(--border-grey);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .driver-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .driver-card {
            background: var(--neutral-light);
            border: 1px solid var(--border-grey);
            border-radius: 8px;
            padding: 20px;
        }

        .driver-name {
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 10px;
        }

        .driver-version {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 15px;
        }

        .driver-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .driver-actions {
            display: flex;
            gap: 10px;
        }

        .driver-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .driver-btn.update {
            background-color: var(--primary-blue);
            color: var(--white);
        }

        .driver-btn.rollback {
            background-color: var(--status-yellow);
            color: var(--white);
        }

        /* System Configuration */
        .config-section {
            background: var(--white);
            border: 1px solid var(--border-grey);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .config-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .config-group {
            margin-bottom: 20px;
        }

        .config-group label {
            display: block;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 8px;
            font-size: 0.95rem;
        }

        .config-group input,
        .config-group select,
        .config-group textarea {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--border-grey);
            border-radius: 6px;
            font-family: 'DM Sans', sans-serif;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .config-group input:focus,
        .config-group select:focus,
        .config-group textarea:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(69, 91, 241, 0.1);
        }

        .config-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .config-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-family: 'DM Sans', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .config-btn.primary {
            background-color: var(--primary-blue);
            color: var(--white);
        }

        .config-btn.secondary {
            background-color: var(--neutral-grey);
            color: var(--text-dark);
        }

        .config-btn:hover {
            transform: translateY(-1px);
        }

        /* Enhanced Inventory Cards */
        .inventory-card {
            background: var(--white);
            border: 1px solid var(--border-grey);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
            position: relative;
        }

        .inventory-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.1);
        }

        .inventory-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .inventory-name {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        .inventory-status {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .inventory-specs {
            margin-bottom: 20px;
        }

        .spec-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .spec-label {
            color: var(--text-light);
        }

        .spec-value {
            color: var(--text-dark);
            font-weight: 500;
        }

        .inventory-maintenance {
            margin-bottom: 20px;
            padding: 15px;
            background: var(--neutral-light);
            border-radius: 8px;
        }

        .maintenance-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .maintenance-label {
            color: var(--text-light);
        }

        .maintenance-value {
            color: var(--text-dark);
            font-weight: 500;
        }

        .maintenance-overdue {
            color: var(--status-red);
            font-weight: 600;
        }

        .maintenance-due-soon {
            color: var(--status-yellow);
            font-weight: 600;
        }

        .maintenance-actions {
            display: flex;
            gap: 10px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .maintenance-action-btn {
            padding: 8px 12px;
            border: none;
            border-radius: 6px;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            flex: 1;
            min-width: 80px;
        }

        .maintenance-action-btn.driver {
            background-color: var(--primary-blue);
            color: var(--white);
        }

        .maintenance-action-btn.firmware {
            background-color: var(--accent-purple);
            color: var(--white);
        }

        .maintenance-action-btn.inspection {
            background-color: var(--status-green);
            color: var(--white);
        }

        .maintenance-action-btn.repair {
            background-color: var(--status-yellow);
            color: var(--white);
        }

        .maintenance-action-btn.replace {
            background-color: var(--status-red);
            color: var(--white);
        }

        .maintenance-action-btn:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        /* Maintenance Task Creation Modal */
        .maintenance-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.6);
            align-items: center;
            justify-content: center;
        }

        .maintenance-modal-content {
            background-color: var(--white);
            margin: auto;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: fadeIn 0.3s ease-out;
        }
        
        .site-details-content {
            padding: 20px;
        }
        
        .site-details-section {
            margin-bottom: 24px;
        }
        
        .site-details-section h4 {
            color: var(--text-dark);
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 12px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--border-grey);
        }
        
        .details-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        
        .detail-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        
        .detail-item.full-width {
            grid-column: 1 / -1;
        }
        
        .detail-label {
            font-weight: 500;
            color: var(--text-medium);
            font-size: 0.9rem;
        }
        
        .detail-value {
            color: var(--text-dark);
            font-weight: 600;
            font-size: 1rem;
            padding: 8px 12px;
            background: var(--background-light);
            border-radius: 6px;
            border: 1px solid var(--border-grey);
        }
        
        /* Component-specific styles */
        .components-container {
            margin-top: 12px;
        }
        
        .component-item {
            background: var(--background-light);
            border: 1px solid var(--border-grey);
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 12px;
        }
        
        .component-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }
        
        .component-info h5 {
            margin: 0 0 4px 0;
            color: var(--text-dark);
            font-size: 1rem;
            font-weight: 600;
        }
        
        .component-sku {
            color: var(--text-medium);
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .component-actions {
            display: flex;
            gap: 8px;
        }
        
        .component-action-btn {
            padding: 6px 12px;
            border: 1px solid var(--border-grey);
            border-radius: 4px;
            background: white;
            color: var(--text-medium);
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .component-action-btn:hover {
            background: var(--background-light);
            color: var(--text-dark);
        }
        
        .component-action-btn.delete {
            color: var(--error-color);
            border-color: var(--error-color);
        }
        
        .component-action-btn.delete:hover {
            background: var(--error-color);
            color: white;
        }
        
        .component-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }
        
        .component-detail {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        
        .component-detail .detail-label {
            font-size: 0.8rem;
            color: var(--text-medium);
        }
        
        .component-detail .detail-value {
            font-size: 0.9rem;
            padding: 4px 8px;
            background: white;
            border: 1px solid var(--border-light);
        }
        
        .add-component-section {
            margin-top: 16px;
            text-align: center;
            padding: 16px;
            border: 2px dashed var(--border-grey);
            border-radius: 8px;
            background: var(--background-light);
        }
        
        .add-component-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .add-component-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }
        
        .no-components {
            text-align: center;
            color: var(--text-medium);
            font-style: italic;
            padding: 20px;
        }
        
        /* Add Component Form Styles */
        .add-component-form {
            background-color: var(--neutral-light);
            border: 1px solid var(--border-grey);
            border-radius: 8px;
            padding: 20px;
            margin-top: 15px;
        }
        
        .add-component-form h5 {
            margin: 0 0 15px 0;
            color: var(--text-dark);
            font-size: 1.1rem;
        }
        
        .form-row {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .component-input {
            flex: 1;
            min-width: 150px;
            padding: 8px 12px;
            border: 1px solid var(--border-grey);
            border-radius: 4px;
            font-size: 0.9rem;
        }
        
        .component-input:focus {
            outline: none;
            border-color: var(--primary-blue);
        }
        
        .file-label {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            background-color: var(--primary-blue);
            color: var(--white);
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: background-color 0.2s;
        }
        
        .file-label:hover {
            background-color: var(--primary-blue-dark);
        }
        
        .form-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            margin-top: 15px;
        }
        
        .btn-primary, .btn-secondary {
            padding: 8px 16px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        
        .btn-primary {
            background-color: var(--primary-blue);
            color: var(--white);
        }
        
        .btn-primary:hover {
            background-color: var(--primary-blue-dark);
        }
        
        .btn-secondary {
            background-color: var(--neutral-grey);
            color: var(--text-dark);
        }
        
        .btn-secondary:hover {
            background-color: var(--text-light);
        }
        
        .add-component-btn {
            width: 100%;
            padding: 12px;
            background-color: var(--neutral-light);
            border: 2px dashed var(--border-grey);
            border-radius: 8px;
            color: var(--text-dark);
            cursor: pointer;
            font-size: 0.9rem;
            margin-top: 15px;
            transition: all 0.2s;
        }
        
        .add-component-btn:hover {
            background-color: var(--primary-blue-light);
            border-color: var(--primary-blue);
            color: var(--primary-blue);
        }
        
        .section-header-with-action {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .section-header-with-action h4 {
            margin: 0;
            color: var(--text-dark);
            font-size: 1.1rem;
        }

        .maintenance-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .maintenance-modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        .maintenance-modal-close {
            color: var(--text-dark);
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            background: none;
            border: none;
        }

        .maintenance-modal-close:hover {
            color: var(--status-red);
        }

        .maintenance-form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .maintenance-form-group {
            margin-bottom: 15px;
        }

        .maintenance-form-group.full-width {
            grid-column: 1 / -1;
        }

        .maintenance-form-group label {
            display: block;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 6px;
            font-size: 0.9rem;
        }

        .maintenance-form-group input,
        .maintenance-form-group select,
        .maintenance-form-group textarea {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--border-grey);
            border-radius: 6px;
            font-family: 'DM Sans', sans-serif;
            font-size: 0.95rem;
            transition: border-color 0.3s ease;
        }

        .maintenance-form-group input:focus,
        .maintenance-form-group select:focus,
        .maintenance-form-group textarea:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(69, 91, 241, 0.1);
        }

        .maintenance-form-group textarea {
            resize: vertical;
            min-height: 60px;
        }

        .maintenance-modal-actions {
            display: flex;
            gap: 15px;
            margin-top: 20px;
            justify-content: flex-end;
        }

        .maintenance-modal-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 6px;
            font-family: 'DM Sans', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .maintenance-modal-btn.primary {
            background-color: var(--primary-blue);
            color: var(--white);
        }

        .maintenance-modal-btn.secondary {
            background-color: var(--neutral-grey);
            color: var(--text-dark);
        }

        .maintenance-modal-btn:hover {
            transform: translateY(-1px);
        }

        /* Resource Allocation Styles */
        .job-item {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            border: 1px solid var(--border-grey);
            border-radius: 8px;
            margin-bottom: 10px;
            background: var(--white);
            transition: all 0.3s ease;
        }

        .job-item:hover {
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .job-priority {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
            font-size: 0.9rem;
        }

        .priority-high {
            background-color: rgba(239, 68, 68, 0.1);
            color: var(--status-red);
        }

        .priority-medium {
            background-color: rgba(245, 158, 11, 0.1);
            color: var(--status-yellow);
        }

        .priority-low {
            background-color: rgba(34, 197, 94, 0.1);
            color: var(--status-green);
        }

        .job-info {
            flex-grow: 1;
        }

        .job-name {
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 4px;
        }

        .job-details {
            font-size: 0.9rem;
            color: var(--text-light);
            display: flex;
            gap: 20px;
        }

        .job-status {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            margin-left: 15px;
        }

        .status-running {
            background-color: rgba(34, 197, 94, 0.1);
            color: var(--status-green);
        }

        .status-queued {
            background-color: rgba(245, 158, 11, 0.1);
            color: var(--status-yellow);
        }

        .status-completed {
            background-color: rgba(107, 114, 128, 0.1);
            color: #6b7280;
        }

        .job-actions {
            display: flex;
            gap: 8px;
            margin-left: 15px;
        }

        .job-action-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .job-action-btn.start {
            background-color: var(--status-green);
            color: var(--white);
        }

        .job-action-btn.stop {
            background-color: var(--status-red);
            color: var(--white);
        }

        .job-action-btn.pause {
            background-color: var(--status-yellow);
            color: var(--white);
        }

        .job-action-btn.delete {
            background-color: #6b7280;
            color: var(--white);
        }

        .job-action-btn:hover {
            opacity: 0.9;
        }

        /* GPU Allocation Status */
        .site-allocation {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            border: 1px solid var(--border-grey);
            border-radius: 8px;
            margin-bottom: 10px;
            background: var(--white);
        }

        .site-info {
            flex-grow: 1;
        }

        .site-name {
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 4px;
        }

        .site-gpus {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .gpu-allocation-bar {
            width: 200px;
            height: 20px;
            background-color: var(--neutral-light);
            border-radius: 10px;
            overflow: hidden;
            margin-left: 20px;
            position: relative;
        }

        .gpu-allocation-segment {
            height: 100%;
            float: left;
        }

        .gpu-segment-active {
            background-color: var(--status-green);
        }

        .gpu-segment-idle {
            background-color: var(--status-yellow);
        }

        .gpu-segment-maintenance {
            background-color: var(--status-red);
        }

        .allocation-label {
            font-size: 0.8rem;
            color: var(--text-light);
            margin-left: 10px;
            min-width: 80px;
        }

        /* Capacity Management Styles */
        .capacity-site {
            display: flex;
            align-items: center;
            padding: 20px;
            border: 1px solid var(--border-grey);
            border-radius: 8px;
            margin-bottom: 15px;
            background: var(--white);
        }

        .site-capacity-info {
            flex-grow: 1;
        }

        .site-capacity-name {
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 8px;
        }

        .site-capacity-details {
            font-size: 0.9rem;
            color: var(--text-light);
            display: flex;
            gap: 20px;
        }

        .capacity-bar-container {
            width: 300px;
            margin-left: 20px;
        }

        .capacity-bar {
            width: 100%;
            height: 24px;
            background-color: var(--neutral-light);
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            margin-bottom: 8px;
        }

        .capacity-segment {
            height: 100%;
            float: left;
        }

        .capacity-ondemand {
            background-color: var(--primary-blue);
        }

        .capacity-spot {
            background-color: var(--status-yellow);
        }

        .capacity-idle {
            background-color: var(--status-green);
        }

        .capacity-maintenance {
            background-color: var(--status-red);
        }

        .capacity-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            color: var(--text-light);
        }

        /* Preemption Management */
        .preemption-item {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            border: 1px solid var(--border-grey);
            border-radius: 8px;
            margin-bottom: 10px;
            background: var(--white);
        }

        .preemption-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .preemption-warning {
            background-color: rgba(245, 158, 11, 0.1);
            color: var(--status-yellow);
        }

        .preemption-critical {
            background-color: rgba(239, 68, 68, 0.1);
            color: var(--status-red);
        }

        .preemption-info {
            background-color: rgba(69, 91, 241, 0.1);
            color: var(--primary-blue);
        }

        .preemption-details {
            flex-grow: 1;
        }

        .preemption-title {
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 4px;
        }

        .preemption-description {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .preemption-actions {
            display: flex;
            gap: 10px;
            margin-left: 15px;
        }

        .preemption-btn {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .preemption-btn.acknowledge {
            background-color: var(--primary-blue);
            color: var(--white);
        }

        .preemption-btn.execute {
            background-color: var(--status-red);
            color: var(--white);
        }

        .preemption-btn:hover {
            opacity: 0.9;
        }

        /* Scaling Alerts */
        .scaling-alert {
            display: flex;
            align-items: center;
            padding: 15px 20px;
            border: 1px solid var(--border-grey);
            border-radius: 8px;
            margin-bottom: 10px;
            background: var(--white);
        }

        .alert-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .alert-expand {
            background-color: rgba(34, 197, 94, 0.1);
            color: var(--status-green);
        }

        .alert-maintain {
            background-color: rgba(245, 158, 11, 0.1);
            color: var(--status-yellow);
        }

        .alert-critical {
            background-color: rgba(239, 68, 68, 0.1);
            color: var(--status-red);
        }

        .alert-details {
            flex-grow: 1;
        }

        .alert-title {
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 4px;
        }

        .alert-description {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .alert-priority {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            margin-left: 15px;
        }

        .priority-high {
            background-color: rgba(239, 68, 68, 0.1);
            color: var(--status-red);
        }

        .priority-medium {
            background-color: rgba(245, 158, 11, 0.1);
            color: var(--status-yellow);
        }

        .priority-low {
            background-color: rgba(34, 197, 94, 0.1);
            color: var(--status-green);
        }

        /* Analytics Dashboard Styles */
        .metrics-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: var(--white);
            border: 1px solid var(--border-grey);
            border-radius: 12px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .metric-icon {
            font-size: 2.5rem;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(69, 91, 241, 0.1);
            border-radius: 12px;
        }

        .metric-content {
            flex-grow: 1;
        }

        .metric-value {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 5px;
        }

        .metric-change {
            font-size: 0.8rem;
            font-weight: 600;
        }

        .metric-change.positive {
            color: var(--status-green);
        }

        .metric-change.negative {
            color: var(--status-red);
        }

        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .chart-card {
            background: var(--white);
            border: 1px solid var(--border-grey);
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        
        /* Better spacing for Performance Metrics and Resource Distribution cards */
        .chart-card.performance-metrics-card .chart-content,
        .chart-card.resource-distribution-card .chart-content {
            padding: 20px 0;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .chart-header h3 {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-dark);
            margin: 0;
        }

        .chart-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .chart-controls select {
            padding: 6px 12px;
            border: 1px solid var(--border-grey);
            border-radius: 6px;
            font-size: 0.9rem;
            background: var(--white);
        }

        .chart-btn {
            padding: 6px 12px;
            border: 1px solid var(--border-grey);
            border-radius: 6px;
            background: var(--white);
            color: var(--text-light);
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .chart-btn.active {
            background: var(--primary-blue);
            color: var(--white);
            border-color: var(--primary-blue);
        }

        .chart-btn:hover {
            border-color: var(--primary-blue);
        }

        .chart-subtitle {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .chart-content {
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }

        /* Performance Metrics specific styling */
        .chart-content .performance-metrics {
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 10px 0;
            gap: 15px;
        }

        .chart-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            position: relative;
            overflow: hidden;
        }

        .chart-bars {
            display: flex;
            align-items: end;
            justify-content: space-evenly;
            height: 150px;
            gap: 1px;
            padding: 0 8px;
        }

        .chart-bar {
            background: linear-gradient(to top, var(--primary-blue), var(--accent-blue));
            border-radius: 4px 4px 0 0;
            width: 25px;
            position: relative;
            transition: all 0.3s ease;
        }

        .chart-bar:hover {
            opacity: 0.8;
        }

        .chart-bar::after {
            content: attr(data-value);
            position: absolute;
            top: -18px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.65rem;
            font-weight: 600;
            color: var(--text-dark);
            white-space: nowrap;
            max-width: 35px;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .chart-labels {
            display: flex;
            justify-content: space-evenly;
            font-size: 0.8rem;
            color: var(--text-light);
            margin-top: 10px;
            padding: 0 8px;
        }

        .chart-line {
            width: 100%;
            height: 200px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        #capacityFactorChart, #energyAtRiskChart {
            width: 100% !important;
            height: 200px !important;
        }

        .performance-metrics {
            width: 100%;
        }

        .perf-metric {
            display: grid;
            grid-template-columns: 70px 1fr;
            gap: 5px;
            align-items: center;
            margin-bottom: 8px;
            height: 45px;
        }

        .perf-metric:last-child {
            margin-bottom: 0;
        }

        .perf-label {
            font-size: 0.7rem;
            color: var(--text-light);
            font-weight: 500;
        }

        .perf-content {
            display: flex;
            flex-direction: column;
            justify-content: center;
            height: 100%;
        }

        .perf-value {
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 0px;
        }

        .perf-bar {
            height: 2px;
            background: var(--border-grey);
            border-radius: 1px;
            overflow: hidden;
            margin-bottom: 0px;
        }

        .perf-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-blue), var(--accent-blue));
            border-radius: 1px;
            transition: width 0.3s ease;
        }

        .perf-detail {
            font-size: 0.6rem;
            color: var(--text-light);
            font-style: italic;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .resource-distribution {
            width: 100%;
            padding: 10px 0;
        }

        .resource-item {
            margin-bottom: 20px;
            padding: 8px 0;
        }

        .resource-label {
            font-size: 0.9rem;
            color: var(--text-dark);
            margin-bottom: 5px;
        }

        .resource-bar {
            height: 12px;
            background: var(--border-grey);
            border-radius: 6px;
            overflow: hidden;
            margin-bottom: 5px;
        }

        .resource-fill {
            height: 100%;
            border-radius: 6px;
            transition: width 0.3s ease;
        }

        .resource-value {
            font-size: 0.8rem;
            color: var(--text-light);
        }

        .analytics-table-section {
            background: var(--white);
            border: 1px solid var(--border-grey);
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .table-header h3 {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-dark);
            margin: 0;
        }

        .table-controls {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .table-controls select {
            padding: 8px 12px;
            border: 1px solid var(--border-grey);
            border-radius: 6px;
            font-size: 0.9rem;
            background: var(--white);
        }

        .export-btn {
            background: var(--primary-blue);
            color: var(--white);
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .export-btn:hover {
            background: var(--accent-blue);
        }

        .analytics-table-container {
            overflow-x: auto;
        }

        .analytics-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        .analytics-table th {
            background: var(--neutral-grey);
            color: var(--text-dark);
            font-weight: 600;
            padding: 12px;
            text-align: left;
            border-bottom: 2px solid var(--border-grey);
        }

        .analytics-table td {
            padding: 12px;
            border-bottom: 1px solid var(--border-grey);
            color: var(--text-dark);
        }

        .analytics-table tr:hover {
            background: rgba(69, 91, 241, 0.05);
        }

        .utilization-badge {
            background: rgba(34, 197, 94, 0.1);
            color: var(--status-green);
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.8rem;
        }
        
        .efficiency-badge {
            background: rgba(59, 130, 246, 0.1);
            color: var(--primary-blue);
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.8rem;
        }
        
        .risk-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.8rem;
        }
        
        .risk-low {
            background: rgba(34, 197, 94, 0.1);
            color: var(--status-green);
        }
        
        .risk-medium {
            background: rgba(245, 158, 11, 0.1);
            color: var(--status-yellow);
        }
        
        .risk-high {
            background: rgba(239, 68, 68, 0.1);
            color: var(--status-red);
        }
        
        .uptime-badge {
            background: rgba(34, 197, 94, 0.1);
            color: var(--status-green);
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.8rem;
        }
        
        .capacity-factor-badge {
            background: rgba(59, 130, 246, 0.1);
            color: var(--primary-blue);
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.8rem;
        }

        .roi-badge {
            background: rgba(69, 91, 241, 0.1);
            color: var(--primary-blue);
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.8rem;
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 600;
            font-size: 0.8rem;
        }

        .status-badge.status-active {
            background: rgba(34, 197, 94, 0.1);
            color: var(--status-green);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .gpu-panel-container {
                flex-direction: column;
            }

            .gpu-nav {
                width: 100%;
                flex-direction: row;
                overflow-x: auto;
                padding: 15px;
            }

            .nav-section {
                margin-bottom: 0;
                margin-right: 20px;
                min-width: 200px;
            }

            .gpu-main-content {
                padding: 20px;
            }

            .gpu-grid {
                grid-template-columns: 1fr;
            }

            .metrics-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            /* Performance Metrics responsive adjustments */
            .chart-content .performance-metrics {
                padding: 5px 0;
            }

            .perf-metric {
                margin-bottom: 10px;
            }

            .perf-label {
                font-size: 0.8rem;
            }

            .perf-value {
                font-size: 1rem;
            }

            .perf-detail {
                font-size: 0.65rem;
            }

            .performance-metrics {
                grid-template-columns: repeat(2, 1fr);
            }

            .chart-controls {
                flex-wrap: wrap;
            }

            .maintenance-modal-content {
                width: 95%;
                max-width: 600px;
                padding: 20px;
            }

            .maintenance-form-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .maintenance-form-group.full-width {
                grid-column: 1;
            }
        }

        /* OODA Workflow Styles */
        .ooda-workflow {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .workflow-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--border-grey);
        }

        .workflow-status {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .workflow-phase {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .workflow-phase.active {
            background: var(--status-green);
            color: white;
        }

        .workflow-phase.pending {
            background: var(--status-yellow);
            color: white;
        }

        .workflow-phase.completed {
            background: var(--status-green);
            color: white;
            opacity: 0.7;
        }

        .ooda-phases {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .ooda-phase {
            flex: 1;
            text-align: center;
            padding: 1rem;
            border-radius: 8px;
            background: var(--neutral-light);
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .ooda-phase.active {
            background: var(--primary-blue);
            color: white;
            border-color: var(--accent-teal);
        }

        .ooda-phase.completed {
            background: var(--status-green);
            color: white;
        }

        .ooda-phase.pending {
            background: var(--status-yellow);
            color: white;
        }

        .phase-icon {
            font-size: 2rem;
            margin-bottom: 0.5rem;
            display: block;
        }

        .phase-label {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .phase-time {
            font-size: 0.8rem;
            opacity: 0.8;
            margin-top: 0.25rem;
        }

        /* Pending Approvals Styles */
        .pending-approvals {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-left: 4px solid var(--status-yellow);
        }

        .approval-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-radius: 8px;
            background: var(--neutral-light);
            margin-bottom: 1rem;
        }

        .approval-item:last-child {
            margin-bottom: 0;
        }

        .approval-info {
            flex: 1;
        }

        .approval-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .approval-details {
            font-size: 0.9rem;
            color: var(--neutral-medium);
        }

        .approval-actions {
            display: flex;
            gap: 0.5rem;
        }

        /* Activity Stream Styles */
        .activity-stream {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            max-height: 400px;
            overflow-y: auto;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border-grey);
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }

        .activity-icon.observe {
            background: #E0E7FF;
            color: var(--primary-blue);
        }

        .activity-icon.orient {
            background: #ECFDF5;
            color: var(--status-green);
        }

        .activity-icon.decide {
            background: #FEF3C7;
            color: var(--status-yellow);
        }

        .activity-icon.act {
            background: #FECACA;
            color: var(--status-red);
        }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }

        .activity-description {
            font-size: 0.9rem;
            color: var(--neutral-medium);
            margin-bottom: 0.25rem;
        }

        .activity-time {
            font-size: 0.8rem;
            color: var(--neutral-medium);
        }

        /* OODA Maintenance Section Styles */
        .ooda-maintenance-section {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .maintenance-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .maintenance-plans-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 1.5rem;
        }

        .maintenance-plan-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-left: 4px solid;
        }

        .maintenance-plan-card.pending {
            border-left-color: var(--status-yellow);
        }

        .maintenance-plan-card.active {
            border-left-color: var(--primary-blue);
        }

        .maintenance-plan-card.completed {
            border-left-color: var(--status-green);
        }

        .maintenance-plan-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .maintenance-plan-title {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .maintenance-plan-status {
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .maintenance-plan-status.pending {
            background: var(--status-yellow);
            color: white;
        }

        .maintenance-plan-status.active {
            background: var(--primary-blue);
            color: white;
        }

        .maintenance-plan-status.completed {
            background: var(--status-green);
            color: white;
        }

        .maintenance-plan-details {
            margin-bottom: 1rem;
        }

        .maintenance-plan-detail-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            font-size: 0.9rem;
        }

        .maintenance-plan-detail-label {
            color: var(--neutral-medium);
        }

        .maintenance-plan-detail-value {
            font-weight: 600;
        }

        .maintenance-plan-actions {
            display: flex;
            gap: 0.5rem;
            justify-content: flex-end;
        }

        /* Off-cycle Analysis Controls */
        .off-cycle-controls {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-left: 4px solid var(--accent-teal);
        }

        .analysis-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .analysis-select {
            min-width: 200px;
        }

        /* OODA Effectiveness Section */
        .ooda-effectiveness-section {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .ooda-metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
    </style>
</head>
<body>
    <!-- Top Navigation Bar -->
    <div class="header-bar">
        <div class="branding">
            <img src="includes/Artboard-7.png" alt="Asoba Logo">
            <span class="site-title">Ona Energy Management</span>
        </div>
        <div class="top-links">
            <a href="application-select.html">Applications</a>
            <a href="server-management.html">Offtaker Management</a>
            <a href="admin-gpu-panel.html" style="color: var(--primary-blue);">O&M Management</a>
            <a href="#" onclick="logout();" style="color: var(--status-red);">Logout</a>
        </div>
    </div>

    <main>
        <div class="gpu-panel-container">
            <!-- Navigation Sidebar -->
            <nav class="gpu-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Overview</div>
                    <button class="nav-button active" data-section="dashboard">
                        <span class="nav-icon">📊</span>
                        Dashboard
                    </button>
                    <button class="nav-button" data-section="inventory">
                        <span class="nav-icon">🖥️</span>
                        Inventory
                    </button>
                    <button class="nav-button" data-section="allocation">
                        <span class="nav-icon">⚡</span>
                        Resource Allocation
                    </button>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Monitoring</div>
                    <button class="nav-button" data-section="performance">
                        <span class="nav-icon">📈</span>
                        Performance
                    </button>
                    <button class="nav-button" data-section="maintenance">
                        <span class="nav-icon">🔧</span>
                        Maintenance
                    </button>
                    <button class="nav-button" data-section="analytics">
                        <span class="nav-icon">📊</span>
                        Analytics
                    </button>
                </div>
            </nav>

            <!-- Main Content Area -->
            <div class="gpu-main-content">
                <!-- Dashboard Section -->
                <div class="content-section active" id="dashboard">
                    <div class="section-header">
                        <h1 class="section-title">Dashboard</h1>
                        <p class="section-subtitle">Real-time monitoring and management of energy infrastructure</p>
                    </div>

                    <!-- Metrics Overview -->
                    <div class="metrics-grid">
                        <div class="metric-card">
                            <span class="metric-value" id="totalInverters">11</span>
                            <span class="metric-label">Total Inverters</span>
                            <span class="metric-change positive">+4 this month</span>
                        </div>
                        <div class="metric-card">
                            <span class="metric-value" id="activeInverters">11</span>
                            <span class="metric-label">Active Inverters</span>
                            <span class="metric-change positive">75% utilization</span>
                        </div>
                        <div class="metric-card">
                            <span class="metric-value" id="avgUtilization">78%</span>
                            <span class="metric-label">Avg Utilization</span>
                            <span class="metric-change positive">+5% from yesterday</span>
                        </div>
                        <div class="metric-card">
                            <span class="metric-value" id="activeJobs">12</span>
                            <span class="metric-label">Active Jobs</span>
                            <span class="metric-change positive">+3 this hour</span>
                        </div>
                    </div>

                    <!-- OODA Workflow Status -->
                    <div class="ooda-workflow">
                        <div class="workflow-header">
                            <h3>🔄 OODA Loop Status</h3>
                            <div class="workflow-status">
                                <span class="workflow-phase completed">Last Cycle: 2 min ago</span>
                                <span class="workflow-phase active">Next Cycle: 8 min</span>
                            </div>
                        </div>
                        
                        <div class="ooda-phases">
                            <div class="ooda-phase completed">
                                <span class="phase-icon">👁️</span>
                                <div class="phase-label">Observe</div>
                                <div class="phase-time">Completed 2 min ago</div>
                            </div>
                            <div class="ooda-phase completed">
                                <span class="phase-icon">🧭</span>
                                <div class="phase-label">Orient</div>
                                <div class="phase-time">Completed 2 min ago</div>
                            </div>
                            <div class="ooda-phase completed">
                                <span class="phase-icon">🎯</span>
                                <div class="phase-label">Decide</div>
                                <div class="phase-time">Completed 1 min ago</div>
                            </div>
                            <div class="ooda-phase pending">
                                <span class="phase-icon">⚡</span>
                                <div class="phase-label">Act</div>
                                <div class="phase-time">Awaiting approval</div>
                            </div>
                        </div>
                    </div>

                    <!-- Pending Approvals -->
                    <div class="pending-approvals">
                        <h3>🔔 Pending Maintenance Approvals</h3>
                        <div id="pendingApprovalsList">
                            <div class="approval-item">
                                <div class="approval-info">
                                    <div class="approval-title">Cummins Midrand - Inverter Maintenance</div>
                                    <div class="approval-details">EAR: $2,340 over 72h | Priority: High | Affected: INV-003, INV-007</div>
                                </div>
                                <div class="approval-actions">
                                    <button class="btn btn-success" onclick="approveMaintenancePlan('plan-001')">✓ Approve</button>
                                    <button class="btn btn-secondary" onclick="viewMaintenancePlan('plan-001')">View Details</button>
                                    <button class="btn btn-danger" onclick="rejectMaintenancePlan('plan-001')">✗ Reject</button>
                                </div>
                            </div>
                            <div class="approval-item">
                                <div class="approval-info">
                                    <div class="approval-title">FNB Willowbridge - Panel Cleaning</div>
                                    <div class="approval-details">EAR: $580 over 48h | Priority: Medium | Scheduled: Tomorrow 09:00</div>
                                </div>
                                <div class="approval-actions">
                                    <button class="btn btn-success" onclick="approveMaintenancePlan('plan-002')">✓ Approve</button>
                                    <button class="btn btn-secondary" onclick="viewMaintenancePlan('plan-002')">View Details</button>
                                    <button class="btn btn-danger" onclick="rejectMaintenancePlan('plan-002')">✗ Reject</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent OODA Activity -->
                    <div class="activity-stream">
                        <h3>Recent OODA Activity</h3>
                        <div id="oodaActivityStream">
                            <div class="activity-item">
                                <div class="activity-icon decide">🎯</div>
                                <div class="activity-content">
                                    <div class="activity-title">Maintenance Plan Generated</div>
                                    <div class="activity-description">High-priority maintenance scheduled for Cummins Midrand INV-003</div>
                                    <div class="activity-time">2 minutes ago</div>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon orient">🧭</div>
                                <div class="activity-content">
                                    <div class="activity-title">Risk Analysis Completed</div>
                                    <div class="activity-description">EAR calculation: $7,040 potential losses identified across 2 sites</div>
                                    <div class="activity-time">3 minutes ago</div>
                                </div>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon observe">👁️</div>
                                <div class="activity-content">
                                    <div class="activity-title">Fault Detection Completed</div>
                                    <div class="activity-description">3 new anomalies detected, 2 require immediate attention</div>
                                    <div class="activity-time">4 minutes ago</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Solar Sites Grid -->
                    <div class="gpu-grid" id="solarSitesGrid">
                        <!-- Solar site cards -->
                        <div class="gpu-card">
                            <div class="gpu-header">
                                <div class="gpu-name">Cummins Midrand</div>
                                <div class="gpu-status status-active">Active</div>
                            </div>
                            <div class="gpu-specs">
                                <div class="spec-row">
                                    <span class="spec-label">Type:</span>
                                    <span class="spec-value">Commercial</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Capacity:</span>
                                    <span class="spec-value">821.88 kW</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Location:</span>
                                    <span class="spec-value">Corners Bridal Veil Road</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Current Output:</span>
                                    <span class="spec-value">0 kW</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Efficiency:</span>
                                    <span class="spec-value">0%</span>
                                </div>
                            </div>
                            <div class="gpu-actions">
                                <button class="action-btn primary" onclick="viewSiteDetails('cummins-midrand')">View Details</button>
                                <button class="action-btn secondary" onclick="manageSite('cummins-midrand')">Manage</button>
                            </div>
                        </div>

                        <div class="gpu-card">
                            <div class="gpu-header">
                                <div class="gpu-name">FNB Willowbridge</div>
                                <div class="gpu-status status-active">Active</div>
                            </div>
                            <div class="gpu-specs">
                                <div class="spec-row">
                                    <span class="spec-label">Type:</span>
                                    <span class="spec-value">Commercial</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Capacity:</span>
                                    <span class="spec-value">51.98 kW</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Location:</span>
                                    <span class="spec-value">61 Carl Cronje Drive</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Current Output:</span>
                                    <span class="spec-value">0 kW</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Efficiency:</span>
                                    <span class="spec-value">0%</span>
                                </div>
                            </div>
                            <div class="gpu-actions">
                                <button class="action-btn primary" onclick="viewSiteDetails('fnb-willowbridge')">View Details</button>
                                <button class="action-btn secondary" onclick="manageSite('fnb-willowbridge')">Manage</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Inventory Section -->
                <div class="content-section" id="inventory">
                    <div class="section-header">
                        <h1 class="section-title">Asset Inventory</h1>
                        <p class="section-subtitle">Solar site specifications and asset tracking</p>
                        <div style="margin-top: 15px;">
                            <button class="config-btn primary" onclick="openAddSiteModal()" style="padding: 12px 24px; font-size: 1rem;">
                                ➕ Add New Site
                            </button>
                        </div>
                    </div>

                    <div class="gpu-grid" id="inventoryGrid">
                        <!-- Site inventory cards -->
                        <div class="inventory-card">
                            <div class="inventory-header">
                                <div class="inventory-name">Cummins Midrand</div>
                                <div class="inventory-status status-active">Active</div>
                            </div>
                            <div class="inventory-specs">
                                <div class="spec-row">
                                    <span class="spec-label">Type:</span>
                                    <span class="spec-value">Commercial Solar</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Capacity:</span>
                                    <span class="spec-value">821.88 kW</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Inverters:</span>
                                    <span class="spec-value">9 units</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Location:</span>
                                    <span class="spec-value">Corners Bridal Veil Road</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Commissioned:</span>
                                    <span class="spec-value">2024-01-15</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Next Maintenance:</span>
                                    <span class="maintenance-value">Dec 15, 2024</span>
                                </div>
                            </div>
                            <div class="inventory-actions">
                                <button class="action-btn primary" onclick="viewSiteInventoryDetails('cummins-midrand')">View Details</button>
                                <button class="action-btn secondary" onclick="scheduleSiteMaintenance('cummins-midrand')">Maintenance</button>
                                <button class="action-btn tertiary" onclick="viewSiteComponents('cummins-midrand')">Components</button>
                            </div>
                        </div>

                        <div class="inventory-card">
                            <div class="inventory-header">
                                <div class="inventory-name">FNB Willowbridge</div>
                                <div class="inventory-status status-active">Active</div>
                            </div>
                            <div class="inventory-specs">
                                <div class="spec-row">
                                    <span class="spec-label">Type:</span>
                                    <span class="spec-value">Commercial Solar</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Capacity:</span>
                                    <span class="spec-value">51.98 kW</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Inverters:</span>
                                    <span class="spec-value">2 units</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Location:</span>
                                    <span class="spec-value">61 Carl Cronje Drive</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Commissioned:</span>
                                    <span class="spec-value">2024-02-20</span>
                                </div>
                                <div class="spec-row">
                                    <span class="spec-label">Next Maintenance:</span>
                                    <span class="maintenance-value">Dec 10, 2024</span>
                                </div>
                            </div>
                            <div class="inventory-actions">
                                <button class="action-btn primary" onclick="viewSiteInventoryDetails('fnb-willowbridge')">View Details</button>
                                <button class="action-btn secondary" onclick="scheduleSiteMaintenance('fnb-willowbridge')">Maintenance</button>
                                <button class="action-btn tertiary" onclick="viewSiteComponents('fnb-willowbridge')">Components</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Resource Allocation Section -->
                <div class="content-section" id="allocation">
                    <div class="section-header">
                        <h1 class="section-title">Capacity Management</h1>
                        <p class="section-subtitle">Solar energy production capacity and resource availability across distributed sites</p>
                    </div>

                    <!-- Capacity Overview -->
                    <div class="metrics-grid" style="margin-bottom: 30px;">
                        <div class="metric-card">
                            <span class="metric-value" id="totalCapacity">873.86</span>
                            <span class="metric-label">Total Installed Capacity (kW)</span>
                            <span class="metric-change positive">+821.88 kW this month</span>
                        </div>
                        <div class="metric-card">
                            <span class="metric-value" id="ondemandCapacity">740</span>
                            <span class="metric-label">Contracted Energy (MWh/month)</span>
                            <span class="metric-change positive">85% of capacity contracted</span>
                        </div>
                        <div class="metric-card">
                            <span class="metric-value" id="spotCapacity">108</span>
                            <span class="metric-label">Available Capacity (MWh/month)</span>
                            <span class="metric-change negative">15% capacity available</span>
                        </div>
                        <div class="metric-card">
                            <span class="metric-value" id="capacityHealth">96.2%</span>
                            <span class="metric-label">Site Availability</span>
                            <span class="metric-change positive">+2.1% from last month</span>
                        </div>
                    </div>

                    <!-- Capacity Allocation by Site -->
                    <div class="chart-container" style="margin-bottom: 30px;">
                        <div class="chart-header">
                            <h3 class="chart-title">Energy Production by Site</h3>
                            <div class="chart-controls">
                                <button class="chart-btn active" data-view="all">All Sites</button>
                                <button class="chart-btn" data-view="ondemand">Active Sites</button>
                                <button class="chart-btn" data-view="spot">Maintenance Mode</button>
                            </div>
                        </div>
                        <div id="capacityAllocation">
                            <!-- Capacity allocation will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Maintenance Scheduling -->
                    <div class="chart-container" style="margin-bottom: 30px;">
                        <div class="chart-header">
                            <h3 class="chart-title">Maintenance Scheduling</h3>
                        </div>
                        <div id="preemptionStatus">
                            <!-- Maintenance status will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Site Expansion Planning -->
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3 class="chart-title">Site Expansion Planning</h3>
                        </div>
                        <div id="scalingAlerts">
                            <!-- Expansion alerts will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Performance Section -->
                <div class="content-section" id="performance">
                    <div class="section-header">
                        <h1 class="section-title">Performance Monitoring</h1>
                        <p class="section-subtitle">Real-time metrics and system health</p>
                    </div>

                    <!-- Site Selector -->
                    <div class="gpu-selector-section" style="margin-bottom: 30px;">
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <label for="siteSelector" style="font-weight: 600; color: var(--text-dark);">Monitor Individual Site:</label>
                            <select id="siteSelector" style="padding: 8px 12px; border: 1px solid var(--border-grey); border-radius: 6px; font-family: 'DM Sans', sans-serif; font-size: 1rem; background-color: var(--white); cursor: pointer; min-width: 200px;">
                                <option value="all">All Sites (Average)</option>
                                <option value="cummins-midrand">Cummins Midrand</option>
                                <option value="fnb-willowbridge">FNB Willowbridge</option>
                            </select>
                            <button class="config-btn secondary" onclick="refreshSiteData()" style="padding: 8px 16px; font-size: 0.9rem;">
                                🔄 Refresh Data
                            </button>
                        </div>
                    </div>

                    <!-- Performance Metrics Overview -->
                    <div class="performance-metrics">
                        <div class="performance-card">
                            <div class="performance-value" id="gpuUtilization">679 kWh</div>
                            <div class="performance-label" id="utilizationLabel">Total Power Production</div>
                            <div class="performance-trend trend-up" id="utilizationTrend">↗ +5% from yesterday</div>
                        </div>
                        <div class="performance-card">
                            <div class="performance-value" id="gpuTemperature">67°C</div>
                            <div class="performance-label" id="temperatureLabel">Average Inverter Temperature</div>
                            <div class="performance-trend trend-stable" id="temperatureTrend">→ Stable</div>
                        </div>
                        <div class="performance-card">
                            <div class="performance-value" id="gpuPower">185 kWh</div>
                            <div class="performance-label" id="powerLabel">Total Power Consumption</div>
                            <div class="performance-trend trend-down" id="powerTrend">↘ -12W from yesterday</div>
                        </div>
                        <div class="performance-card">
                            <div class="performance-value" id="gpuMemory">22%</div>
                            <div class="performance-label" id="memoryLabel">Capacity Factor</div>
                            <div class="performance-trend trend-up" id="memoryTrend">↗ +2% from yesterday</div>
                        </div>
                    </div>

                    <!-- Capacity Factor Chart -->
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3 class="chart-title" id="capacityFactorChartTitle">Site Capacity Factor Over Time</h3>
                            <div class="chart-controls">
                                <button class="chart-btn active" data-period="1h">1 Hour</button>
                                <button class="chart-btn" data-period="6h">6 Hours</button>
                                <button class="chart-btn" data-period="24h">24 Hours</button>
                                <button class="chart-btn" data-period="7d">7 Days</button>
                            </div>
                        </div>
                        <div class="chart-canvas" id="capacityFactorChart">
                            <canvas id="capacityFactorChartCanvas"></canvas>
                        </div>
                    </div>

                    <!-- Temperature Chart -->
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3 class="chart-title" id="temperatureChartTitle">Inverter Temperature Monitoring</h3>
                            <div class="chart-controls">
                                <button class="chart-btn active" data-period="1h">1 Hour</button>
                                <button class="chart-btn" data-period="6h">6 Hours</button>
                                <button class="chart-btn" data-period="24h">24 Hours</button>
                            </div>
                        </div>
                        <div class="chart-canvas" id="temperatureChart">
                            <canvas id="temperatureChartCanvas"></canvas>
                        </div>
                    </div>

                    <!-- Power Production Chart -->
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3 class="chart-title" id="powerProductionChartTitle">Power Production Over Time</h3>
                            <div class="chart-controls">
                                <button class="chart-btn active" data-period="1h">1 Hour</button>
                                <button class="chart-btn" data-period="6h">6 Hours</button>
                                <button class="chart-btn" data-period="24h">24 Hours</button>
                                <button class="chart-btn" data-period="7d">7 Days</button>
                            </div>
                        </div>
                        <div class="chart-canvas" id="powerProductionChart">
                            <canvas id="powerProductionChartCanvas"></canvas>
                        </div>
                    </div>

                    <!-- Power Consumption Chart -->
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3 class="chart-title" id="powerConsumptionChartTitle">Power Consumption Over Time</h3>
                            <div class="chart-controls">
                                <button class="chart-btn active" data-period="1h">1 Hour</button>
                                <button class="chart-btn" data-period="6h">6 Hours</button>
                                <button class="chart-btn" data-period="24h">24 Hours</button>
                            </div>
                        </div>
                        <div class="chart-canvas" id="powerConsumptionChart">
                            <canvas id="powerConsumptionChartCanvas"></canvas>
                        </div>
                    </div>

                    <!-- Active Alerts -->
                    <div class="alerts-section">
                        <h3 style="margin-bottom: 20px; color: var(--text-dark);">Active Alerts</h3>
                        <div class="alert-item">
                            <div class="alert-icon warning">⚠</div>
                            <div class="alert-content">
                                <div class="alert-title">Low Power Output - Cummins Midrand</div>
                                <div class="alert-time">5 minutes ago</div>
                            </div>
                            <div class="alert-actions">
                                <button class="alert-btn acknowledge" onclick="acknowledgeAlert('power-001')">Acknowledge</button>
                                <button class="alert-btn resolve" onclick="resolveAlert('power-001')">Resolve</button>
                            </div>
                        </div>
                        <div class="alert-item">
                            <div class="alert-icon info">ℹ</div>
                            <div class="alert-content">
                                <div class="alert-title">Inverter Maintenance Scheduled - FNB Willowbridge</div>
                                <div class="alert-time">15 minutes ago</div>
                            </div>
                            <div class="alert-actions">
                                <button class="alert-btn acknowledge" onclick="acknowledgeAlert('maint-001')">Acknowledge</button>
                                <button class="alert-btn resolve" onclick="resolveAlert('maint-001')">Resolve</button>
                            </div>
                        </div>
                        <div class="alert-item">
                            <div class="alert-icon critical">!</div>
                            <div class="alert-content">
                                <div class="alert-title">Weather Alert: Storm Warning - All Sites</div>
                                <div class="alert-time">2 hours ago</div>
                            </div>
                            <div class="alert-actions">
                                <button class="alert-btn acknowledge" onclick="acknowledgeAlert('weather-001')">Acknowledge</button>
                                <button class="alert-btn resolve" onclick="resolveAlert('weather-001')">Resolve</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Maintenance Section -->
                <div class="content-section" id="maintenance">
                    <div class="section-header">
                        <h1 class="section-title">Maintenance & Updates</h1>
                        <p class="section-subtitle">Solar site maintenance and system updates</p>
                    </div>

                    <!-- OODA Maintenance Plan Management -->
                    <div class="ooda-maintenance-section">
                        <h3>🔄 OODA-Generated Maintenance Plans</h3>
                        <div class="maintenance-metrics">
                            <div class="metric-card">
                                <span class="metric-value" id="pendingPlans">2</span>
                                <span class="metric-label">Pending Approvals</span>
                                <span class="metric-change">1 high priority</span>
                            </div>
                            <div class="metric-card">
                                <span class="metric-value" id="activePlans">0</span>
                                <span class="metric-label">Active Work Orders</span>
                                <span class="metric-change">0 in progress</span>
                            </div>
                            <div class="metric-card">
                                <span class="metric-value" id="completedPlans">8</span>
                                <span class="metric-label">Completed This Month</span>
                                <span class="metric-change">+2 from last month</span>
                            </div>
                            <div class="metric-card">
                                <span class="metric-value" id="avoidedEAR">$18,420</span>
                                <span class="metric-label">Avoided EAR</span>
                                <span class="metric-change">This month</span>
                            </div>
                        </div>
                        
                        <div class="maintenance-plans-grid" id="maintenancePlansGrid">
                            <!-- OODA maintenance plans will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Scheduled Maintenance Tasks -->
                    <div class="maintenance-grid" id="maintenanceGrid">
                        <!-- Maintenance cards will be populated by JavaScript -->
                    </div>

                    <!-- Firmware Management -->
                    <div class="driver-section">
                        <h3 style="margin-bottom: 20px; color: var(--text-dark);">Inverter Firmware Management</h3>
                        <div class="driver-grid" id="driverGrid">
                            <!-- Firmware cards will be populated by JavaScript -->
                        </div>
                        <div style="text-align: center;">
                            <button class="config-btn primary" onclick="checkFirmwareUpdates()">
                                🔍 Check for Updates
                            </button>
                        </div>
                    </div>

                    <!-- System Configuration -->
                    <div class="config-section">
                        <h3 style="margin-bottom: 20px; color: var(--text-dark);">System Configuration</h3>
                        <div class="config-form">
                            <div class="config-group">
                                <label for="powerLimit">GPU Power Limit (%)</label>
                                <input type="number" id="powerLimit" min="50" max="100" value="100">
                            </div>
                            <div class="config-group">
                                <label for="tempThreshold">Temperature Threshold (°C)</label>
                                <input type="number" id="tempThreshold" min="60" max="90" value="85">
                            </div>
                            <div class="config-group">
                                <label for="autoMaintenance">Auto Maintenance</label>
                                <select id="autoMaintenance">
                                    <option value="enabled" selected>Enabled</option>
                                    <option value="disabled">Disabled</option>
                                </select>
                            </div>
                            <div class="config-group">
                                <label for="maintenanceWindow">Maintenance Window</label>
                                <select id="maintenanceWindow">
                                    <option value="weekend">Weekend (Sat-Sun)</option>
                                    <option value="nightly">Nightly (2AM-4AM)</option>
                                    <option value="manual" selected>Manual Only</option>
                                </select>
                            </div>
                            <div class="config-group">
                                <label for="alertEmail">Alert Email</label>
                                <input type="email" id="alertEmail" placeholder="admin@company.com" value="admin@asoba.co">
                            </div>
                            <div class="config-group">
                                <label for="backupRetention">Backup Retention (days)</label>
                                <input type="number" id="backupRetention" min="7" max="365" value="30">
                            </div>
                        </div>
                        <div class="config-actions">
                            <button class="config-btn primary" onclick="saveConfiguration()">
                                💾 Save Configuration
                            </button>
                            <button class="config-btn secondary" onclick="resetConfiguration()">
                                🔄 Reset to Defaults
                            </button>
                        </div>
                    </div>

                    <!-- Hardware Maintenance Log -->
                    <div class="config-section">
                        <h3 style="margin-bottom: 20px; color: var(--text-dark);">Maintenance History</h3>
                        <div id="maintenanceHistory">
                            <!-- Maintenance history will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Analytics Section -->
                <div class="content-section" id="analytics">
                    <div class="section-header">
                        <h1 class="section-title">Analytics Dashboard</h1>
                        <p class="section-subtitle">Comprehensive solar site performance, usage, and cost analytics</p>
                    </div>

                    <!-- Key Metrics Overview -->
                    <div class="metrics-overview">
                        <div class="metric-card">
                            <div class="metric-icon">🔧</div>
                            <div class="metric-content">
                                <div class="metric-value" id="repairReduction">156h</div>
                                <div class="metric-label">Median Time to Repair Reduction</div>
                                <div class="metric-change positive">-24h vs last month</div>
                            </div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">📊</div>
                            <div class="metric-content">
                                <div class="metric-value" id="forecasting">94.2%</div>
                                <div class="metric-label">Solar Production Forecasting</div>
                                <div class="metric-change positive">+2.1% vs target (95%)</div>
                            </div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">🎯</div>
                            <div class="metric-content">
                                <div class="metric-value" id="falsePositiveRate">8.3%</div>
                                <div class="metric-label">False Positive Rate</div>
                                <div class="metric-change positive">-1.7% vs target (10%)</div>
                            </div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-icon">⚡</div>
                            <div class="metric-content">
                                <div class="metric-value" id="detectionLatency">7.2min</div>
                                <div class="metric-label">Detection Latency</div>
                                <div class="metric-change positive">-2.8min vs target (<10min)</div>
                            </div>
                        </div>
                    </div>

                    <!-- OODA Effectiveness Metrics -->
                    <div class="ooda-effectiveness-section">
                        <h3>🔄 OODA System Effectiveness</h3>
                        <div class="ooda-metrics-grid">
                            <div class="metric-card">
                                <div class="metric-icon">🎯</div>
                                <div class="metric-content">
                                    <div class="metric-value">94.2%</div>
                                    <div class="metric-label">OODA Decision Accuracy</div>
                                    <div class="metric-change positive">+2.1% vs target (95%)</div>
                                </div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-icon">⏱️</div>
                                <div class="metric-content">
                                    <div class="metric-value">156h</div>
                                    <div class="metric-label">Avg Time to Resolution</div>
                                    <div class="metric-change positive">-24h vs last month</div>
                                </div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-icon">💰</div>
                                <div class="metric-content">
                                    <div class="metric-value">$47,230</div>
                                    <div class="metric-label">Total Avoided EAR</div>
                                    <div class="metric-change positive">Last 30 days</div>
                                </div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-icon">⚠️</div>
                                <div class="metric-content">
                                    <div class="metric-value">8.3%</div>
                                    <div class="metric-label">False Positive Rate</div>
                                    <div class="metric-change positive">-1.7% vs target (10%)</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Charts Grid -->
                    <div class="charts-grid">
                        <!-- Energy At Risk Analysis Chart -->
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3>Energy At Risk Analysis</h3>
                                <div class="chart-controls">
                                    <select id="energyAtRiskTimeframe">
                                        <option value="7d">Last 7 days</option>
                                        <option value="30d" selected>Last 30 days</option>
                                        <option value="90d">Last 90 days</option>
                                    </select>
                                </div>
                            </div>
                            <div class="chart-content">
                                <div class="chart-placeholder" id="analyticsEnergyAtRiskChart">
                                    <canvas id="energyAtRiskChart" width="400" height="200"></canvas>
                                </div>
                            </div>
                        </div>

                        <!-- Capacity Factor Chart -->
                        <div class="chart-card">
                            <div class="chart-header">
                                <h3>Capacity Factor</h3>
                                <div class="chart-controls">
                                    <select id="capacityFactorTimeframe">
                                        <option value="24h">Last 24 hours</option>
                                        <option value="7d" selected>Last 7 days</option>
                                        <option value="30d">Last 30 days</option>
                                    </select>
                                </div>
                            </div>
                            <div class="chart-content">
                                <div class="chart-placeholder" id="analyticsCapacityFactorChart">
                                    <div class="chart-line">
                                        <canvas id="analyticsCapacityFactorChartCanvas" width="400" height="200"></canvas>
                                    </div>
                                </div>
                            </div>
                    </div>

                    <!-- Off-cycle OODA Controls -->
                    <div class="off-cycle-controls">
                        <h3>🔄 Off-Cycle OODA Analysis</h3>
                        <div class="analysis-controls">
                            <select class="form-select analysis-select" id="offCycleAsset">
                                <option value="all">All Sites</option>
                                <option value="cummins-midrand">Cummins Midrand</option>
                                <option value="fnb-willowbridge">FNB Willowbridge</option>
                            </select>
                            <input type="number" class="form-input" id="offCycleSeverity" placeholder="Severity Threshold" value="0.5" step="0.1" min="0" max="1" style="width: 180px;">
                            <button class="btn btn-primary" onclick="triggerOffCycleAnalysis()">🔍 Analyze Now</button>
                            <button class="btn btn-secondary" onclick="viewOODALogs()">📋 View OODA Logs</button>
                        </div>
                    </div>

                    <!-- Performance Metrics -->
                        <div class="chart-card performance-metrics-card">
                            <div class="chart-header">
                                <h3>Performance Metrics</h3>
                                <div class="chart-controls">
                                    <span class="chart-subtitle">Real-time Performance</span>
                                </div>
                            </div>
                            <div class="chart-content">
                                <div class="performance-metrics">
                                    <div class="perf-metric">
                                        <div class="perf-label">Power Output</div>
                                        <div class="perf-content">
                                            <div class="perf-value">873.86 kW</div>
                                            <div class="perf-bar">
                                                <div class="perf-fill" style="width: 92%;"></div>
                                            </div>
                                            <div class="perf-detail">Peak: 950 kW | Avg: 820 kW</div>
                                        </div>
                                    </div>
                                    <div class="perf-metric">
                                        <div class="perf-label">Grid Frequency</div>
                                        <div class="perf-content">
                                            <div class="perf-value">50.02 Hz</div>
                                            <div class="perf-bar">
                                                <div class="perf-fill" style="width: 95%;"></div>
                                            </div>
                                            <div class="perf-detail">P95: 50.05 Hz | P99: 50.08 Hz</div>
                                        </div>
                                    </div>
                                    <div class="perf-metric">
                                        <div class="perf-label">Power Quality</div>
                                        <div class="perf-content">
                                            <div class="perf-value">99.2%</div>
                                            <div class="perf-bar">
                                                <div class="perf-fill" style="width: 99%;"></div>
                                            </div>
                                            <div class="perf-detail">Precision: 98.8% | Recall: 99.1%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Energy Production Distribution -->
                        <div class="chart-card resource-distribution-card">
                            <div class="chart-header">
                                <h3>Energy Production Distribution</h3>
                                <div class="chart-controls">
                                    <span class="chart-subtitle">By Site</span>
                                </div>
                            </div>
                            <div class="chart-content">
                                <div class="performance-metrics">
                                    <div class="perf-metric">
                                        <div class="perf-label">Cummins Midrand</div>
                                        <div class="perf-content">
                                            <div class="perf-value">145,410 kWh</div>
                                            <div class="perf-bar">
                                                <div class="perf-fill" style="width: 59%;"></div>
                                            </div>
                                            <div class="perf-detail">59% of max capacity (246,540 kWh) - Last 30 days</div>
                                        </div>
                                    </div>
                                    <div class="perf-metric">
                                        <div class="perf-label">FNB Willowbridge</div>
                                        <div class="perf-content">
                                            <div class="perf-value">9,180 kWh</div>
                                            <div class="perf-bar">
                                                <div class="perf-fill" style="width: 59%;"></div>
                                            </div>
                                            <div class="perf-detail">59% of max capacity (15,600 kWh) - Last 30 days</div>
                                        </div>
                                    </div>
                                    <div class="perf-metric">
                                        <div class="perf-label">Total Production</div>
                                        <div class="perf-content">
                                            <div class="perf-value">154,590 kWh</div>
                                            <div class="perf-bar">
                                                <div class="perf-fill" style="width: 59%;"></div>
                                            </div>
                                            <div class="perf-detail">59% of combined capacity (262,140 kWh) - Last 30 days</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Detailed Analytics Table -->
                    <div class="analytics-table-section">
                        <div class="table-header">
                            <h3>Detailed Analytics</h3>
                            <div class="table-controls">
                                <select id="analyticsFilter">
                                    <option value="all">All Sites</option>
                                    <option value="cummins-midrand">Cummins Midrand</option>
                                    <option value="fnb-willowbridge">FNB Willowbridge</option>
                                </select>
                                <button class="export-btn">📊 Export Data</button>
                            </div>
                        </div>
                        <div class="analytics-table-container">
                            <table class="analytics-table">
                                <thead>
                                    <tr>
                                        <th>Serial</th>
                                        <th>Type</th>
                                        <th>OEM</th>
                                        <th>Capacity Factor</th>
                                        <th>Cost/Hour</th>
                                        <th>Revenue/Hour</th>
                                        <th>Energy At Risk</th>
                                        <th>ROI</th>
                                        <th>Uptime (%)</th>
                                        <th>Status</th>
                                    </tr>
                                </thead>
                                <tbody id="analyticsTableBody">
                                    <!-- Table rows will be populated by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Maintenance Task Creation Modal -->
    <div id="maintenanceModal" class="maintenance-modal">
        <div class="maintenance-modal-content">
            <div class="maintenance-modal-header">
                <h3 class="maintenance-modal-title" id="maintenanceModalTitle">Create Maintenance Task</h3>
                <button class="maintenance-modal-close" onclick="closeMaintenanceModal()">&times;</button>
            </div>
            
            <form id="maintenanceForm">
                <div class="maintenance-form-grid">
                    <div class="maintenance-form-group">
                        <label for="maintenanceType">Maintenance Type</label>
                        <select id="maintenanceType" required>
                            <option value="driver">Driver Update</option>
                            <option value="firmware">Firmware Update</option>
                            <option value="inspection">Hardware Inspection</option>
                            <option value="repair">Repair</option>
                            <option value="replace">Replace</option>
                        </select>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="maintenancePriority">Priority</label>
                        <select id="maintenancePriority" required>
                            <option value="low">Low</option>
                            <option value="medium" selected>Medium</option>
                            <option value="high">High</option>
                            <option value="critical">Critical</option>
                        </select>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="maintenanceDate">Scheduled Date</label>
                        <input type="date" id="maintenanceDate" required>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="maintenanceDuration">Estimated Duration</label>
                        <select id="maintenanceDuration" required>
                            <option value="15 minutes">15 minutes</option>
                            <option value="30 minutes" selected>30 minutes</option>
                            <option value="1 hour">1 hour</option>
                            <option value="2 hours">2 hours</option>
                            <option value="4 hours">4 hours</option>
                            <option value="8 hours">8 hours</option>
                        </select>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="maintenanceTechnician">Assigned Technician</label>
                        <select id="maintenanceTechnician" required>
                            <option value="John Smith">John Smith</option>
                            <option value="Sarah Johnson">Sarah Johnson</option>
                            <option value="Mike Davis">Mike Davis</option>
                            <option value="Lisa Chen">Lisa Chen</option>
                        </select>
                    </div>
                    
                    <div class="maintenance-form-group full-width">
                        <label for="maintenanceDescription">Description</label>
                        <textarea id="maintenanceDescription" placeholder="Describe the maintenance task details..." required></textarea>
                    </div>
                </div>
                
                <div class="maintenance-modal-actions">
                    <button type="button" class="maintenance-modal-btn secondary" onclick="closeMaintenanceModal()">Cancel</button>
                    <button type="submit" class="maintenance-modal-btn primary">Create Task</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Site Details Modal -->
    <div id="siteDetailsModal" class="maintenance-modal">
        <div class="maintenance-modal-content">
            <div class="maintenance-modal-header">
                <h3 class="maintenance-modal-title">Site Details</h3>
                <button class="maintenance-modal-close" onclick="closeSiteDetailsModal()">&times;</button>
            </div>
            
            <div class="site-details-content">
                <div class="site-details-section">
                    <h4>Basic Information</h4>
                    <div class="details-grid">
                        <div class="detail-item">
                            <span class="detail-label">Site Name:</span>
                            <span class="detail-value" id="detailSiteName">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Site Type:</span>
                            <span class="detail-value" id="detailSiteType">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Location:</span>
                            <span class="detail-value" id="detailLocation">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Capacity:</span>
                            <span class="detail-value" id="detailCapacity">-</span>
                        </div>
                    </div>
                </div>
                
                <div class="site-details-section">
                    <h4>Technical Specifications</h4>
                    <div class="details-grid">
                        <div class="detail-item">
                            <span class="detail-label">Inverter Count:</span>
                            <span class="detail-value" id="detailInverterCount">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Panel Count:</span>
                            <span class="detail-value" id="detailPanelCount">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Panel Wattage:</span>
                            <span class="detail-value" id="detailPanelWattage">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Inverter Brand:</span>
                            <span class="detail-value" id="detailInverterBrand">-</span>
                        </div>
                    </div>
                </div>
                
                <div class="site-details-section">
                    <h4>Status & Maintenance</h4>
                    <div class="details-grid">
                        <div class="detail-item">
                            <span class="detail-label">Status:</span>
                            <span class="detail-value" id="detailStatus">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Commission Date:</span>
                            <span class="detail-value" id="detailCommissionDate">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Next Maintenance:</span>
                            <span class="detail-value" id="detailNextMaintenance">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Grid Connection:</span>
                            <span class="detail-value" id="detailGridConnection">-</span>
                        </div>
                    </div>
                </div>
                
                <div class="site-details-section">
                    <h4>Performance Metrics</h4>
                    <div class="details-grid">
                        <div class="detail-item">
                            <span class="detail-label">Current Utilization:</span>
                            <span class="detail-value" id="detailUtilization">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Temperature:</span>
                            <span class="detail-value" id="detailTemperature">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Power Output:</span>
                            <span class="detail-value" id="detailPower">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Efficiency:</span>
                            <span class="detail-value" id="detailEfficiency">-</span>
                        </div>
                    </div>
                </div>
                
                <div class="site-details-section">
                    <h4>Notes</h4>
                    <div class="detail-item full-width">
                        <span class="detail-value" id="detailNotes">-</span>
                    </div>
                </div>
            </div>
            
            <div class="maintenance-modal-actions">
                <button type="button" class="maintenance-modal-btn secondary" onclick="closeSiteDetailsModal()">Close</button>
                <button type="button" class="maintenance-modal-btn primary" onclick="editSiteDetails()">Edit Site</button>
            </div>
        </div>
    </div>

    <!-- Site Maintenance Modal -->
    <div id="siteMaintenanceModal" class="maintenance-modal">
        <div class="maintenance-modal-content">
            <div class="maintenance-modal-header">
                <h3 class="maintenance-modal-title">Schedule Site Maintenance</h3>
                <button class="maintenance-modal-close" onclick="closeSiteMaintenanceModal()">&times;</button>
            </div>
            
            <form id="siteMaintenanceForm">
                <div class="maintenance-form-grid">
                    <div class="maintenance-form-group">
                        <label for="maintenanceSiteName">Site Name</label>
                        <input type="text" id="maintenanceSiteName" readonly>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="siteMaintenanceType">Maintenance Type</label>
                        <select id="siteMaintenanceType" required>
                            <option value="">Select maintenance type</option>
                            <option value="panel-cleaning">Panel Cleaning</option>
                            <option value="inverter-inspection">Inverter Inspection</option>
                            <option value="performance-testing">Performance Testing</option>
                            <option value="connection-check">Connection Check</option>
                            <option value="documentation-update">Documentation Update</option>
                            <option value="preventive-maintenance">Preventive Maintenance</option>
                            <option value="emergency-repair">Emergency Repair</option>
                        </select>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="siteMaintenanceDate">Scheduled Date</label>
                        <input type="date" id="siteMaintenanceDate" required>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="siteMaintenancePriority">Priority</label>
                        <select id="siteMaintenancePriority" required>
                            <option value="">Select priority</option>
                            <option value="low">Low</option>
                            <option value="medium">Medium</option>
                            <option value="high">High</option>
                            <option value="critical">Critical</option>
                        </select>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="siteMaintenanceDuration">Estimated Duration (hours)</label>
                        <input type="number" id="siteMaintenanceDuration" placeholder="e.g., 4" min="1" max="24" required>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="siteMaintenanceTechnician">Assigned Technician</label>
                        <input type="text" id="siteMaintenanceTechnician" placeholder="e.g., John Smith" required>
                    </div>
                    
                    <div class="maintenance-form-group full-width">
                        <label for="siteMaintenanceDescription">Description</label>
                        <textarea id="siteMaintenanceDescription" placeholder="Detailed description of maintenance tasks, requirements, and special instructions..." rows="4"></textarea>
                    </div>
                </div>
                
                <div class="maintenance-modal-actions">
                    <button type="button" class="maintenance-modal-btn secondary" onclick="closeSiteMaintenanceModal()">Cancel</button>
                    <button type="submit" class="maintenance-modal-btn primary">Schedule Maintenance</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Site Modal -->
    <div id="addSiteModal" class="maintenance-modal">
        <div class="maintenance-modal-content">
            <div class="maintenance-modal-header">
                <h3 class="maintenance-modal-title">Add New Solar Site</h3>
                <button class="maintenance-modal-close" onclick="closeAddSiteModal()">&times;</button>
            </div>
            
            <form id="addSiteForm">
                <div class="maintenance-form-grid">
                    <div class="maintenance-form-group">
                        <label for="siteName">Site Name</label>
                        <input type="text" id="siteName" placeholder="e.g., Corporate Office Building" required>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="siteType">Site Type</label>
                        <select id="siteType" required>
                            <option value="">Select Type</option>
                            <option value="Commercial">Commercial</option>
                            <option value="Industrial">Industrial</option>
                            <option value="Residential">Residential</option>
                            <option value="Utility">Utility Scale</option>
                        </select>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="siteLocation">Address</label>
                        <input type="text" id="siteLocation" placeholder="e.g., 123 Main Street, City" required>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="siteCapacity">Total Capacity (kW)</label>
                        <input type="number" id="siteCapacity" placeholder="e.g., 500.5" step="0.01" required>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="inverterCount">Number of Inverters</label>
                        <input type="number" id="inverterCount" placeholder="e.g., 5" min="1" required>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="commissionDate">Commission Date</label>
                        <input type="date" id="commissionDate" required>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="panelCount">Number of Panels</label>
                        <input type="number" id="panelCount" placeholder="e.g., 2000" min="1" required>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="panelWattage">Panel Wattage (W)</label>
                        <input type="number" id="panelWattage" placeholder="e.g., 400" min="100" required>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="inverterBrand">Inverter Brand</label>
                        <select id="inverterBrand" required>
                            <option value="">Select Brand</option>
                            <option value="SMA">SMA</option>
                            <option value="Fronius">Fronius</option>
                            <option value="SolarEdge">SolarEdge</option>
                            <option value="Huawei">Huawei</option>
                            <option value="ABB">ABB</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="gridConnection">Grid Connection</label>
                        <select id="gridConnection" required>
                            <option value="Single Phase">Single Phase</option>
                            <option value="Three Phase">Three Phase</option>
                            <option value="High Voltage">High Voltage</option>
                        </select>
                    </div>
                    
                    <div class="maintenance-form-group full-width">
                        <label for="siteNotes">Additional Notes</label>
                        <textarea id="siteNotes" placeholder="Installation details, special requirements, access instructions, etc."></textarea>
                    </div>
                </div>
                
                <div class="maintenance-modal-actions">
                    <button type="button" class="maintenance-modal-btn secondary" onclick="closeAddSiteModal()">Cancel</button>
                    <button type="button" class="maintenance-modal-btn secondary" onclick="testSiteConnection()" id="testSiteConnectionBtn">🔍 Test Connection</button>
                    <button type="submit" class="maintenance-modal-btn primary" id="addSiteBtn">Add Site to Inventory</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Create Job Modal -->
    <div id="jobModal" class="maintenance-modal">
        <div class="maintenance-modal-content">
            <div class="maintenance-modal-header">
                <h3 class="maintenance-modal-title">Create New Compute Job</h3>
                <button class="maintenance-modal-close" onclick="closeJobModal()">&times;</button>
            </div>
            
            <form id="jobForm">
                <div class="maintenance-form-grid">
                    <div class="maintenance-form-group">
                        <label for="jobName">Job Name</label>
                        <input type="text" id="jobName" placeholder="e.g., ML Training Batch 001" required>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="jobType">Job Type</label>
                        <select id="jobType" required>
                            <option value="">Select Type</option>
                            <option value="training">Machine Learning Training</option>
                            <option value="inference">Model Inference</option>
                            <option value="simulation">Scientific Simulation</option>
                            <option value="rendering">3D Rendering</option>
                            <option value="analysis">Data Analysis</option>
                            <option value="custom">Custom Workload</option>
                        </select>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="jobPriority">Priority</label>
                        <select id="jobPriority" required>
                            <option value="low">Low</option>
                            <option value="medium" selected>Medium</option>
                            <option value="high">High</option>
                            <option value="urgent">Urgent</option>
                        </select>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="jobDuration">Estimated Duration</label>
                        <select id="jobDuration" required>
                            <option value="15 minutes">15 minutes</option>
                            <option value="30 minutes">30 minutes</option>
                            <option value="1 hour" selected>1 hour</option>
                            <option value="2 hours">2 hours</option>
                            <option value="4 hours">4 hours</option>
                            <option value="8 hours">8 hours</option>
                            <option value="12 hours">12 hours</option>
                            <option value="24 hours">24 hours</option>
                        </select>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="jobMemory">Memory Requirement (GB)</label>
                        <select id="jobMemory" required>
                            <option value="4">4 GB</option>
                            <option value="8" selected>8 GB</option>
                            <option value="16">16 GB</option>
                            <option value="24">24 GB</option>
                            <option value="32">32 GB</option>
                            <option value="40">40 GB</option>
                        </select>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="jobGpuType">Preferred GPU Type</label>
                        <select id="jobGpuType" required>
                            <option value="any">Any Available</option>
                            <option value="Tesla V100">Tesla V100</option>
                            <option value="A100">A100</option>
                            <option value="RTX 4090">RTX 4090</option>
                            <option value="H100">H100</option>
                        </select>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="jobSite">Preferred Site</label>
                        <select id="jobSite">
                            <option value="any">Any Available Site</option>
                            <option value="Site A - Conyers, GA">Site A - Conyers, GA</option>
                            <option value="Site B - Macon, GA">Site B - Macon, GA</option>
                            <option value="Site C - Augusta, GA">Site C - Augusta, GA</option>
                            <option value="Site D - Savannah, GA">Site D - Savannah, GA</option>
                        </select>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="jobSchedule">Schedule</label>
                        <select id="jobSchedule" required>
                            <option value="immediate" selected>Run Immediately</option>
                            <option value="scheduled">Schedule for Later</option>
                        </select>
                    </div>
                    
                    <div class="maintenance-form-group" id="scheduleDateGroup" style="display: none;">
                        <label for="jobScheduleDate">Scheduled Date & Time</label>
                        <input type="datetime-local" id="jobScheduleDate">
                    </div>
                    
                    <div class="maintenance-form-group full-width">
                        <label for="jobScript">Job Script/Command</label>
                        <textarea id="jobScript" placeholder="python train_model.py --epochs 100 --batch-size 32" required></textarea>
                    </div>
                    
                    <div class="maintenance-form-group full-width">
                        <label for="jobDescription">Job Description</label>
                        <textarea id="jobDescription" placeholder="Describe what this job does, input data, expected output, etc."></textarea>
                    </div>
                </div>
                
                <div class="maintenance-modal-actions">
                    <button type="button" class="maintenance-modal-btn secondary" onclick="closeJobModal()">Cancel</button>
                    <button type="submit" class="maintenance-modal-btn primary">Create Job</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Dashboard Site Details Modal -->
    <div id="dashboardSiteDetailsModal" class="maintenance-modal">
        <div class="maintenance-modal-content">
            <div class="maintenance-modal-header">
                <h3 class="maintenance-modal-title">Site Details</h3>
                <button class="maintenance-modal-close" onclick="closeDashboardSiteDetailsModal()">&times;</button>
            </div>
            
            <div class="site-details-content">
                <div class="site-details-section">
                    <h4>Basic Information</h4>
                    <div class="details-grid">
                        <div class="detail-item">
                            <span class="detail-label">Site Name:</span>
                            <span class="detail-value" id="dashboardSiteName">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Type:</span>
                            <span class="detail-value" id="dashboardSiteType">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Location:</span>
                            <span class="detail-value" id="dashboardLocation">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Capacity:</span>
                            <span class="detail-value" id="dashboardCapacity">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Inverters:</span>
                            <span class="detail-value" id="dashboardInverters">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Status:</span>
                            <span class="detail-value" id="dashboardStatus">-</span>
                        </div>
                    </div>
                </div>
                
                <div class="site-details-section">
                    <h4>Current Performance</h4>
                    <div class="details-grid">
                        <div class="detail-item">
                            <span class="detail-label">Current Output:</span>
                            <span class="detail-value" id="dashboardCurrentOutput">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Efficiency:</span>
                            <span class="detail-value" id="dashboardEfficiency">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Utilization:</span>
                            <span class="detail-value" id="dashboardUtilization">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Temperature:</span>
                            <span class="detail-value" id="dashboardTemperature">-</span>
                        </div>
                    </div>
                </div>
                
                <div class="site-details-section">
                    <h4>Maintenance</h4>
                    <div class="details-grid">
                        <div class="detail-item">
                            <span class="detail-label">Last Maintenance:</span>
                            <span class="detail-value" id="dashboardLastMaintenance">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Next Maintenance:</span>
                            <span class="detail-value" id="dashboardNextMaintenance">-</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="maintenance-modal-actions">
                <button type="button" class="maintenance-modal-btn secondary" onclick="closeDashboardSiteDetailsModal()">Close</button>
                <button type="button" class="maintenance-modal-btn primary" onclick="editSiteDetails()">Edit Details</button>
            </div>
        </div>
    </div>

    <!-- Dashboard Site Management Modal -->
    <div id="dashboardSiteManagementModal" class="maintenance-modal">
        <div class="maintenance-modal-content">
            <div class="maintenance-modal-header">
                <h3 class="maintenance-modal-title">Site Management</h3>
                <button class="maintenance-modal-close" onclick="closeDashboardSiteManagementModal()">&times;</button>
            </div>
            
            <div class="site-details-content">
                <div class="site-details-section">
                    <h4>Managing: <span id="managementSiteName">-</span></h4>
                    <p>Select an action to perform on this solar site:</p>
                </div>
            </div>
            
            <form id="dashboardManagementForm">
                <div class="maintenance-form-grid">
                    <div class="maintenance-form-group">
                        <label for="managementAction">Action</label>
                        <select id="managementAction" required>
                            <option value="">Select Action</option>
                            <option value="schedule-maintenance">Schedule Maintenance</option>
                            <option value="update-firmware">Update Inverter Firmware</option>
                            <option value="configure-settings">Configure Performance Settings</option>
                            <option value="view-logs">View Production Logs</option>
                            <option value="weather-monitor">Monitor Weather Impact</option>
                            <option value="emergency-shutdown">Emergency Shutdown</option>
                        </select>
                    </div>
                    
                    <div class="maintenance-form-group">
                        <label for="managementPriority">Priority</label>
                        <select id="managementPriority" required>
                            <option value="low">Low</option>
                            <option value="medium" selected>Medium</option>
                            <option value="high">High</option>
                            <option value="urgent">Urgent</option>
                        </select>
                    </div>
                    
                    <div class="maintenance-form-group full-width">
                        <label for="managementNotes">Notes</label>
                        <textarea id="managementNotes" placeholder="Add any additional notes or instructions..."></textarea>
                    </div>
                </div>
                
                <div class="maintenance-modal-actions">
                    <button type="button" class="maintenance-modal-btn secondary" onclick="closeDashboardSiteManagementModal()">Cancel</button>
                    <button type="submit" class="maintenance-modal-btn primary">Execute Action</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Site Components Modal -->
    <div id="siteComponentsModal" class="maintenance-modal">
        <div class="maintenance-modal-content" style="max-width: 1000px; max-height: 90vh; overflow-y: auto;">
            <div class="maintenance-modal-header">
                <h3 class="maintenance-modal-title">Site Components - <span id="componentsSiteName">-</span></h3>
                <button class="maintenance-modal-close" onclick="closeSiteComponentsModal()">&times;</button>
            </div>
            
            <div class="site-details-content">
                <!-- Inverters Section -->
                <div class="site-details-section">
                    <h4>Inverters & Power Conversion</h4>
                    <div id="components-inverters" class="components-container">
                        <!-- Components will be populated by JavaScript -->
                    </div>
                    <div class="add-component-form" id="add-inverters-form" style="display: none;">
                        <h5>Add New Inverter Component</h5>
                        <div class="form-row">
                            <input type="text" id="inverter-sku" placeholder="SKU (e.g., SMA-SB-5.0)" class="component-input">
                            <input type="text" id="inverter-model" placeholder="Model (e.g., SMA Sunny Boy 5.0)" class="component-input">
                            <input type="number" id="inverter-qty" placeholder="Quantity" class="component-input" min="1" value="1">
                        </div>
                        <div class="form-row">
                            <input type="date" id="inverter-install-date" class="component-input">
                            <input type="date" id="inverter-warranty-date" class="component-input">
                        </div>
                        <div class="form-row">
                            <input type="file" id="inverter-documents" multiple accept=".pdf,.doc,.docx,.txt" class="component-input">
                            <label for="inverter-documents" class="file-label">📁 Upload Documents</label>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn-primary" onclick="saveComponent('inverters')">Add Component</button>
                            <button type="button" class="btn-secondary" onclick="cancelAddComponent('inverters')">Cancel</button>
                        </div>
                    </div>
                </div>
                
                <!-- Meters Section -->
                <div class="site-details-section">
                    <h4>Meters & Monitoring</h4>
                    <div id="components-meters" class="components-container">
                        <!-- Components will be populated by JavaScript -->
                    </div>
                    <div class="add-component-form" id="add-meters-form" style="display: none;">
                        <h5>Add New Meter Component</h5>
                        <div class="form-row">
                            <input type="text" id="meter-sku" placeholder="SKU (e.g., ABB-METER-AC)" class="component-input">
                            <input type="text" id="meter-model" placeholder="Model (e.g., ABB AC Meter)" class="component-input">
                            <input type="number" id="meter-qty" placeholder="Quantity" class="component-input" min="1" value="1">
                        </div>
                        <div class="form-row">
                            <input type="date" id="meter-install-date" class="component-input">
                            <input type="date" id="meter-warranty-date" class="component-input">
                        </div>
                        <div class="form-row">
                            <input type="file" id="meter-documents" multiple accept=".pdf,.doc,.docx,.txt" class="component-input">
                            <label for="meter-documents" class="file-label">📁 Upload Documents</label>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn-primary" onclick="saveComponent('meters')">Add Component</button>
                            <button type="button" class="btn-secondary" onclick="cancelAddComponent('meters')">Cancel</button>
                        </div>
                    </div>
                </div>
                
                <!-- Monitoring Section -->
                <div class="site-details-section">
                    <h4>Data Monitoring & Communication</h4>
                    <div id="components-monitoring" class="components-container">
                        <!-- Components will be populated by JavaScript -->
                    </div>
                    <div class="add-component-form" id="add-monitoring-form" style="display: none;">
                        <h5>Add New Monitoring Component</h5>
                        <div class="form-row">
                            <input type="text" id="monitoring-sku" placeholder="SKU (e.g., SOLAREDGE-MONITOR)" class="component-input">
                            <input type="text" id="monitoring-model" placeholder="Model (e.g., SolarEdge Monitoring)" class="component-input">
                            <input type="number" id="monitoring-qty" placeholder="Quantity" class="component-input" min="1" value="1">
                        </div>
                        <div class="form-row">
                            <input type="date" id="monitoring-install-date" class="component-input">
                            <input type="date" id="monitoring-warranty-date" class="component-input">
                        </div>
                        <div class="form-row">
                            <input type="file" id="monitoring-documents" multiple accept=".pdf,.doc,.docx,.txt" class="component-input">
                            <label for="monitoring-documents" class="file-label">📁 Upload Documents</label>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn-primary" onclick="saveComponent('monitoring')">Add Component</button>
                            <button type="button" class="btn-secondary" onclick="cancelAddComponent('monitoring')">Cancel</button>
                        </div>
                    </div>
                </div>
                
                <!-- Safety Section -->
                <div class="site-details-section">
                    <h4>Safety & Protection</h4>
                    <div id="components-safety" class="components-container">
                        <!-- Components will be populated by JavaScript -->
                    </div>
                    <div class="add-component-form" id="add-safety-form" style="display: none;">
                        <h5>Add New Safety Component</h5>
                        <div class="form-row">
                            <input type="text" id="safety-sku" placeholder="SKU (e.g., SCHNEIDER-SAFETY)" class="component-input">
                            <input type="text" id="safety-model" placeholder="Model (e.g., Schneider Safety Switch)" class="component-input">
                            <input type="number" id="safety-qty" placeholder="Quantity" class="component-input" min="1" value="1">
                        </div>
                        <div class="form-row">
                            <input type="date" id="safety-install-date" class="component-input">
                            <input type="date" id="safety-warranty-date" class="component-input">
                        </div>
                        <div class="form-row">
                            <input type="file" id="safety-documents" multiple accept=".pdf,.doc,.docx,.txt" class="component-input">
                            <label for="safety-documents" class="file-label">📁 Upload Documents</label>
                        </div>
                        <div class="form-actions">
                            <button type="button" class="btn-primary" onclick="saveComponent('safety')">Add Component</button>
                            <button type="button" class="btn-secondary" onclick="cancelAddComponent('safety')">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="maintenance-modal-actions">
                <button type="button" class="maintenance-modal-btn secondary" onclick="closeSiteComponentsModal()">Close</button>
                <button type="button" class="maintenance-modal-btn primary" onclick="exportComponentsList()">Export Components List</button>
            </div>
        </div>
    </div>

    <!-- External JavaScript file -->
    <script src="admin-gpu-panel.js" defer></script>

</body>
</html>